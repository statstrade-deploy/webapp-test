(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[963],{20596:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>o});var r=t(6029),i=t(21650),l=t(95669),s=t.n(l);let a=()=>(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s(),{children:(0,r.jsx)("title",{children:"Sign up"})})});a.getLayout=e=>(0,r.jsx)(i.D,{children:e});let o=a},21650:(e,n,t)=>{"use strict";t.d(n,{D:()=>P});var r=t(6029),i=t(48273),l=t(41407),s=t(64332),a=t(73619),o=t(49331),c=t(15226),d=t(99395),u=t(63268),h=t(12482),x=t(17330),j=t(5739);let p=()=>{let{session:e,isLoading:n}=(0,x.useSessionContext)(),t=null==e?void 0:e.user,{data:r,refetch:i,isPending:l}=function(){let{session:e}=(0,x.useSessionContext)(),n=null==e?void 0:e.user,t=(0,j._)(),{data:r,isPending:i,refetch:l}=(0,h.I)({queryKey:["profile",null==n?void 0:n.id],queryFn:async()=>{if(!(null==n?void 0:n.id))return null;let{data:e,error:r}=await t.from("profiles").select("*").eq("id",n.id).single();if(r){if("PGRST116"===r.code)return await t.auth.signOut(),null;throw Error(r.message)}return e}});return{data:r,isPending:i,refetch:l}}(),s=function(){if(null==r?void 0:r.avatar_url)return r.avatar_url;if("string"==typeof(null==t?void 0:t.user_metadata.avatar_url))return t.user_metadata.avatar_url;let e=new URLSearchParams,n=(null==r?void 0:r.name)||(null==t?void 0:t.email)||"";return e.append("name",n),e.append("size","256"),"https://ui-avatars.com/api.jpg?".concat(e.toString())}();return{session:e,user:t,profile:r,avatarUrl:s,updateProfile:()=>i(),isLoadingSession:n,isLoadingProfile:l,isLoading:n||l}};var g=t(81278),v=t(55729),m=t(65163),$=t(92125),f=t(46226),S=t(17742),w=t(36405),y=t(81742);let b=e=>{let n=(0,g.useRouter)(),t=(0,y.r)(),i=n.pathname,[l,s]=(0,v.useState)(null),[a,o]=(0,v.useState)(null),c=(e,n)=>{"select"===e?o(n):s(n)};return(0,r.jsxs)(f.tU,{$gtSm:{mb:"$-0.75"},value:i,onValueChange:e=>t.push(e),activationMode:"manual",...e,children:[(0,r.jsxs)(S.N,{children:[l&&(0,r.jsx)(C,{width:l.width,height:2,x:l.x},"intent"),a&&(0,r.jsx)(C,{theme:"active",active:!0,width:a.width,height:2,x:a.x},"active")]}),(0,r.jsxs)(f.tU.List,{disablePassBorderRadius:!0,loop:!1,"aria-label":"Navigation",space:"$2",backgroundColor:"transparent",children:[(0,r.jsx)(_,{value:"/",onInteraction:c,children:(0,r.jsx)(d.y,{size:"$4",fontWeight:"500",children:"Home"})}),(0,r.jsx)(_,{value:"/explore",onInteraction:c,children:(0,r.jsx)(d.y,{size:"$4",fontWeight:"500",children:"Explore"})})]})]})},_=e=>(0,r.jsx)(f.tU.Tab,{unstyled:!0,p:"$2",value:e.value,onInteraction:e.onInteraction,...e,children:e.children}),C=e=>{let{active:n,...t}=e;return(0,r.jsx)(w.Stack,{position:"absolute",backgroundColor:n?"$color":"$colorHover",opacity:.7,animation:"quick",enterStyle:{opacity:0},exitStyle:{opacity:0},...n&&{backgroundColor:"$color",opacity:.6},...t})},z=()=>{let e=p();return console.log(e),(0,r.jsx)(i.Se,{gap:"$2",bw:"$0",bbc:"$borderColor",bs:"solid",bbw:"$0.5",jc:"center",px:"$4",bg:"$color1",minHeight:"$6",children:(0,r.jsxs)(i.lW,{jc:"space-between",ai:"center",children:[(0,r.jsx)(i.Se,{$sm:{dsp:"none"}}),(0,r.jsx)(i.Se,{$gtSm:{dsp:"none"},children:(0,r.jsx)(A,{children:(0,r.jsxs)(i.Se,{gap:"$5",w:"100%",ai:"flex-end",children:[(0,r.jsx)(b,{orientation:"vertical",f:1,w:"100%",size:"$3"}),(0,r.jsx)(l.w,{w:"100%"}),(0,r.jsx)(l.w,{w:"100%"}),(0,r.jsx)(M,{ai:"center",gap:"$4",children:(0,r.jsx)(E,{})})]})})}),e.user?(0,r.jsx)(i.lW,{ai:"center",gap:"$4",py:"$3",children:(0,r.jsx)(E,{})}):(0,r.jsx)(i.lW,{ai:"center",gap:"$4",py:"$3",children:(0,r.jsx)(s.$n,{})})]})})},A=e=>{let{children:n}=e,[t,l]=(0,v.useState)(!1),c=(0,g.useRouter)();return(0,v.useEffect)(()=>{let e=()=>l(!1);return c.events.on("routeChangeStart",e),()=>c.events.off("routeChangeStart",e)},[c.events]),(0,r.jsxs)(a.AM,{open:t,onOpenChange:l,size:"$5",stayInFrame:{padding:20},children:[(0,r.jsx)(a.AM.Trigger,{asChild:!0,children:(0,r.jsx)(s.$n,{chromeless:!0,p:"$2",onPress:()=>l(!t),theme:t?"alt1":null,icon:(0,r.jsx)(u.W,{size:32})})}),(0,r.jsx)(o.PE,{platform:"web",when:"sm",children:(0,r.jsxs)(a.AM.Sheet,{zIndex:1e8,modal:!0,dismissOnSnapToBottom:!0,children:[(0,r.jsx)(a.AM.Sheet.Frame,{children:(0,r.jsx)(a.AM.Sheet.ScrollView,{children:(0,r.jsx)(o.PE.Contents,{})})}),(0,r.jsx)(a.AM.Sheet.Overlay,{zi:100})]})}),(0,r.jsxs)(a.AM.Content,{bw:1,boc:"$borderColor",enterStyle:{x:0,y:-10,o:0},exitStyle:{x:0,y:-10,o:0},x:0,y:0,o:1,animation:["quick",{opacity:{overshootClamping:!0}}],p:0,mah:"80vh",elevate:!0,zi:1e8,children:[(0,r.jsx)(a.AM.Arrow,{bw:1,boc:"$borderColor"}),(0,r.jsx)(a.AM.ScrollView,{showsVerticalScrollIndicator:!1,style:{flex:1},children:(0,r.jsx)(i.Se,{miw:230,p:"$3",ai:"flex-end",children:n})})]})]})},k=()=>{let{avatarUrl:e}=p(),{getTokens:n}=t(34811);return(0,r.jsx)(c.eu,{size:"$2",circular:!0,children:(0,r.jsx)(m.A,{src:e,alt:"your avatar",width:n().size["2"].val,height:n().size["2"].val})})},E=()=>(0,r.jsx)($.N,{href:"/profile",children:(0,r.jsx)(k,{})}),M=e=>{let{children:n,...t}=e,{user:l,profile:s}=p();return(0,r.jsxs)(i.lW,{gap:"$2",...t,children:[(0,r.jsxs)(i.Se,{ai:"flex-end",children:[(0,r.jsx)(d.y,{size:"$5",children:null==s?void 0:s.name}),(0,r.jsx)(d.y,{theme:"alt1",children:null==l?void 0:l.email})]}),n]})},P=e=>{let{children:n}=e;return(0,r.jsxs)(i.Se,{f:1,children:[(0,r.jsx)(z,{}),(0,r.jsxs)(i.lW,{f:1,children:[(0,r.jsx)(i.Se,{f:2,fb:0,jc:"center",children:(0,r.jsx)(i.Se,{px:"$4",children:n})}),(0,r.jsx)(i.Se,{$md:{dsp:"none"},f:3,fb:0})]})]})}},48317:(e,n,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/sign-up",function(){return t(20596)}])}},e=>{var n=n=>e(e.s=n);e.O(0,[789,264,506,503,636,593,792],()=>n(48317)),_N_E=e.O()}]);